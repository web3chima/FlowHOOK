{"abi":[{"type":"constructor","inputs":[{"name":"_baseDepth","type":"uint256","internalType":"uint256"},{"name":"_baseVolatility","type":"uint256","internalType":"uint256"},{"name":"_maxVolatility","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"CURVE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_PRICE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_QUANTITY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"PRICE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"admin","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"baseDepth","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"baseVolatility","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"calculateCurvePrice","inputs":[],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"calculatePriceSensitivity","inputs":[],"outputs":[{"name":"sensitivity","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"closePosition","inputs":[{"name":"size","type":"uint256","internalType":"uint256"},{"name":"isLong","type":"bool","internalType":"bool"}],"outputs":[{"name":"executionPrice","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"cumulativeFlow","inputs":[],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"effectiveDepth","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"effectiveVolatility","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"executeTrade","inputs":[{"name":"size","type":"uint256","internalType":"uint256"},{"name":"isLong","type":"bool","internalType":"bool"}],"outputs":[{"name":"executionPrice","type":"uint256","internalType":"uint256"},{"name":"priceImpact","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getCurveState","inputs":[],"outputs":[{"name":"k","type":"uint256","internalType":"uint256"},{"name":"q","type":"uint256","internalType":"uint256"},{"name":"price","type":"uint256","internalType":"uint256"},{"name":"sensitivity","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getKyleModelState","inputs":[],"outputs":[{"name":"lambda","type":"uint256","internalType":"uint256"},{"name":"flow","type":"int256","internalType":"int256"},{"name":"depth","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getOpenInterest","inputs":[],"outputs":[{"name":"longOI","type":"uint256","internalType":"uint256"},{"name":"shortOI","type":"uint256","internalType":"uint256"},{"name":"netOI","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getPrice","inputs":[],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getVolatilityInfo","inputs":[],"outputs":[{"name":"baseVol","type":"uint256","internalType":"uint256"},{"name":"effectiveVol","type":"uint256","internalType":"uint256"},{"name":"longOI","type":"uint256","internalType":"uint256"},{"name":"shortOI","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"initialPrice","type":"uint256","internalType":"uint256"},{"name":"initialQuantity","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isInitialized","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"kyleLambda","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"kyleLastUpdateBlock","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lastCurvePrice","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxVolatility","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"poolConstant","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"simulateTrade","inputs":[{"name":"size","type":"uint256","internalType":"uint256"},{"name":"isLong","type":"bool","internalType":"bool"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"},{"name":"impact","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalLongPositions","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalShortPositions","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"transferAdmin","inputs":[{"name":"newAdmin","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"vBTCQuantity","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"vUSDCReserve","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"volatilityLongOI","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"volatilityShortOI","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"CurveInitialized","inputs":[{"name":"poolConstant","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"quantity","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"price","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CurveTradeExecuted","inputs":[{"name":"isLong","type":"bool","indexed":false,"internalType":"bool"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"executionPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"priceImpact","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"kyleLambda","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"effectiveVolatility","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"KyleParametersUpdated","inputs":[{"name":"lambda","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"depth","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionClosed","inputs":[{"name":"isLong","type":"bool","indexed":false,"internalType":"bool"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"closePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TransientStateStored","inputs":[{"name":"slot","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"value","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"VolatilityUpdated","inputs":[{"name":"newVolatility","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"longOI","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"shortOI","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AlreadyInitialized","inputs":[]},{"type":"error","name":"InvalidInput","inputs":[{"name":"reason","type":"string","internalType":"string"}]},{"type":"error","name":"NotInitialized","inputs":[]},{"type":"error","name":"ReentrancyGuard","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]}],"bytecode":{"object":"0x60803461017757601f61138238819003918201601f191683019291906001600160401b0384118385101761017b578160609284926040968752833981010312610177578051908260208201519101519180156101465781156101105782156100db5760068054610100600160a81b0319163360081b610100600160a81b03161790556009819055600a819055670de0b6b3a76400008202670de0b6b3a763ffff19838204016100c7570460075543600b5580600c55600d55600e55516111f290816101908239f35b634e487b7160e01b5f52601160045260245ffd5b835163d647364f60e01b815260206004820152600d60248201526c6d6178566f6c6174696c69747960981b6044820152606490fd5b835163d647364f60e01b815260206004820152600e60248201526d62617365566f6c6174696c69747960901b6044820152606490fd5b835163d647364f60e01b81526020600482015260096024820152680c4c2e6ca88cae0e8d60bb1b6044820152606490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080604090808252600480361015610015575f80fd5b5f3560e01c918262621b1c14610cce5750816301c11d9614610ca6578163097d9c2514610c885781631c2aef8614610c6b5781631ff2d4e914610c485781632d44dc2414610c2c578163392e53cd14610c09578163427d8d1314610beb57816356df6a4714610bcd5781635c3f194a14610baf5781635ee19b9514610b915781636cb925fa14610b73578163710b70d314610b5557816375829def14610aec5781637f0d0ff514610ace57816380f21c0314610ab057816395082d2514610a5b57816398d5fdca1461096f5781639efc188614610a8c578163a3dc7f0514610a60578163a71e89a714610a5b578163bb24882e14610a28578163bbe024a914610a0a578163c417d1f0146109d1578163c6222283146109b3578163c924ebe714610995578163cb09c97814610974578163ce8c4c1d1461096f578163d0ac65cb14610940578163d5eb5c2814610565578163dc7ff4e314610547578163e4a3011614610402578163e4a60d45146101c4575063f851a44014610195575f80fd5b346101c0575f3660031901126101c057600654905160089190911c6001600160a01b03168152602090f35b5f80fd5b82346101c0576101d336610d2c565b60ff60069392935416156103f2575f8051602061117d83398151915290815c6103e25760019384835d5f8051602061115d8339815191529581875d84519687525f8051602061113d83398151915285602098848a820152a182156103025780548083116102c55792826060926102595f8051602061119d833981519152955f9897610e24565b9055610266818954610e17565b88555b610283610274610f8c565b98896003558754905490610d8e565b6002558186146102bc576102a161029982610e31565b60085461105e565b60085586519115158252888201528686820152a15d51908152f35b6102a181610299565b855163d647364f60e01b8152808301899052601660248201527565786365656473206c6f6e6720706f736974696f6e7360501b6044820152606490fd5b6005548083116103a4578261031691610e24565b60055585549066038d7ea4c67fff1982018281116103915783101561035b57505f9392826103545f8051602061119d83398151915294606094610e24565b8855610269565b855163d647364f60e01b8152908101889052600f60248201526e636c6f736520746f6f206c6172676560881b6044820152606490fd5b601182634e487b7160e01b5f525260245ffd5b855163d647364f60e01b81528083018990526017602482015276657863656564732073686f727420706f736974696f6e7360481b6044820152606490fd5b82516345f5ce8b60e11b81528590fd5b81516321c4e35760e21b81528490fd5b9050346101c057816003193601126101c05760065460243591803590600883901c6001600160a01b0316330361053a5760ff831661052d5781156104fa5766038d7ea4c6800084106104ba57506104b5907fe537ebbc925dd7137718b02a0aa1ca750fbd359132f3a67c6f632677a755ab5e94846001558160035560016104928661048d8186610d67565b610d67565b94855f556104a08787610d8e565b60025560ff1916176006555193849384610fcb565b0390a1005b606490602086519163d647364f60e01b835282015260196024820152781a5b9a5d1a585b145d585b9d1a5d1e481d1bdbc81cdb585b1b603a1b6044820152fd5b606490602086519163d647364f60e01b8352820152600c60248201526b696e697469616c507269636560a01b6044820152fd5b845162dc149f60e41b8152fd5b84516282b42960e81b8152fd5b82346101c0575f3660031901126101c0576020906009549051908152f35b9050346101c05761057536610d2c565b60ff6006541615610930575f8051602061117d83398151915290815c6109205760019283835d80156108f0575f8051602061113d833981519152865f8051602061115d83398151915283815d8151908152836020820152a16105d5610f8c565b9482156108d057845466038d7ea4c67fff1981018181116108355783101561089a578261060191610e24565b9461060d838354610e17565b82555b85815561067b610673610621610f8c565b861561088c57855b61063e61063582610fe1565b9160085461105e565b6008555f811261085c5790670de0b6b3a764000061065d920490610e17565b8060035561066b818b610e17565b841c99611011565b965f54610d8e565b60025583156108485761069083600f54610e17565b600f555b600f54610df1908181029181830414901517156108355764e8d4a5100060105461068e9081810291818304149015171561082257935f9796936107037f1734b65e5386c208c1f71e200f5d2f010c5484371c839f95b016cc96ba6dc9f29794846107909560c099049104610f74565b898112158a146107ef5761071a9150600c54610e17565b600d555b600d54600e548091116107e6575b507f727b97dabf0ab6144b1124992b57b68f417c34bc65df33a10d9982cb98584d528b61075e600954600c5490610d67565b61076b600d548092610d8e565b600a55610783600f5492601054905193849384610fcb565b0390a15460055490610e17565b61079981611079565b6107d5575b50600754600d54918a5193151584526020840152888a840152876060840152608083015260a0820152a15d82519182526020820152f35b6107dd6110cf565b6011555f61079e565b600d555f61072c565b6107f890610e31565b90600c5491828110158b1461081257501c5b600d5561071e565b905061081d91610e24565b61080a565b601185634e487b7160e01b5f525260245ffd5b601183634e487b7160e01b5f525260245ffd5b61085483601054610e17565b601055610694565b61086e670de0b6b3a764000091610e31565b0481811061087d575b5061065d565b61088691610e24565b5f610877565b61089586610e31565b610629565b875163d647364f60e01b8152602081840152600f60248201526e747261646520746f6f206c6172676560881b6044820152606490fd5b6108db828654610e17565b946108e883600554610e17565b600555610610565b855163d647364f60e01b815260208187015260096024820152687a65726f2073697a6560b81b6044820152606490fd5b84516345f5ce8b60e11b81528490fd5b83516321c4e35760e21b81528390fd5b82346101c0575f3660031901126101c0576060906007549060085490600a549181519384526020840152820152f35b610d0a565b82346101c0575f3660031901126101c0576020905166038d7ea4c680008152f35b82346101c0575f3660031901126101c0576020906005549051908152f35b82346101c0575f3660031901126101c0576020906003549051908152f35b82346101c0575f3660031901126101c0575f54610a06600154926109f3610f8c565b6109fb610dac565b915194859485610d4b565b0390f35b82346101c0575f3660031901126101c057602090600c549051908152f35b82346101c0575f3660031901126101c0579054600554606092610a4b8284610f74565b9181519384526020840152820152f35b610ce8565b82346101c0575f3660031901126101c057600c54610a06600d5492600f54601054915194859485610d4b565b82346101c057610aa4610a9e36610d2c565b90610e41565b82519182526020820152f35b82346101c0575f3660031901126101c057602090600a549051908152f35b82346101c0575f3660031901126101c0576020906010549051908152f35b9050346101c05760203660031901126101c0576001600160a01b03918135919083831683036101c057600654938460081c163303610b49575050610100600160a81b031990911660089190911b610100600160a81b031617600655005b516282b42960e81b8152fd5b82346101c0575f3660031901126101c057602090600e549051908152f35b82346101c0575f3660031901126101c057602090600f549051908152f35b82346101c0575f3660031901126101c0576020906008549051908152f35b82346101c0575f3660031901126101c057602090600b549051908152f35b82346101c0575f3660031901126101c0576020906001549051908152f35b82346101c0575f3660031901126101c0576020906007549051908152f35b82346101c0575f3660031901126101c05760209060ff6006541690519015158152f35b82346101c0575f3660031901126101c057602091549051908152f35b82346101c0575f3660031901126101c057602090610c64610dac565b9051908152f35b82346101c0575f3660031901126101c0576020905f549051908152f35b82346101c0575f3660031901126101c0576020906002549051908152f35b82346101c0575f3660031901126101c057516a0c097ce7bc90715b34b9f160241b8152602090f35b346101c0575f3660031901126101c057602090600d548152f35b346101c0575f3660031901126101c0576020604051670de0b6b3a76400008152f35b346101c0575f3660031901126101c0576020610d24610f8c565b604051908152f35b60409060031901126101c0576004359060243580151581036101c05790565b9094939260609260808301968352602083015260408201520152565b81810292918115918404141715610d7a57565b634e487b7160e01b5f52601160045260245ffd5b8115610d98570490565b634e487b7160e01b5f52601260045260245ffd5b60015466038d7ea4c680008110610e0457610ddb670de0b6b3a76400009182610dd58280610d67565b04610d67565b048015610e04575f54906001600160ff1b0382168203610d7a57610e019160011b610d8e565b90565b506a0c097ce7bc90715b34b9f160241b90565b91908201809211610d7a57565b91908203918211610d7a57565b600160ff1b8114610d7a575f0390565b9190918015610f6457610e52610f8c565b928015610f525760015466038d7ea4c67fff198101818111610d7a57831015610f395782610e7f91610e24565b915b5f54908315610ef957610ea4610eaf92610e9e86610e0197610d67565b90610d8e565b9215610eeb57610fe1565b905f8212610ed45790610ec191610e17565b610ecb8185610e17565b60011c93611011565b610ee0610ee692610e31565b90610e24565b610ec1565b610ef490610e31565b610fe1565b60405162461bcd60e51b815260206004820152601860248201527743757276654d6174683a207a65726f207175616e7469747960401b6044820152606490fd5b506a0c097ce7bc90715b34b9f160241b93508392915050565b610f5e82600154610e17565b91610e81565b509050610f6f610f8c565b905f90565b81810392915f138015828513169184121617610d7a57565b60015466038d7ea4c680008110610e0457610fad90610e9e5f549180610d67565b906a0c097ce7bc90715b34b9f160241b808311610fc75750565b9150565b6040919493926060820195825260208201520152565b600754818102915f8212600160ff1b821416610d7a578183051490151715610d7a57670de0b6b3a7640000900590565b90811561105857818082111561104e5761102a91610e24565b90670de0b6b3a764000091828102928184041490151715610d7a57610e0191610d8e565b9061102a91610e24565b50505f90565b9190915f8382019384129112908015821691151617610d7a57565b6011549081156110c85781808211156110b95761109591610e24565b606481029080820460641490151715610d7a576005916110b491610d8e565b101590565b906110c391610e24565b611095565b9050151590565b600a54801561113957600d54670de0b6b3a764000090818102918183041490151715610d7a57816111237f02bab0ca1b77589cad0cd93cd75b88c4638221dd39c7b24a006a5ee490ab368c93604093610d8e565b908160075543600b5582519182526020820152a1565b5056fea71e4ad2f8f6ae5ce3cd7c88b13dc565971270fd1b245d050c52dc7140bea36ed73124c2655c90ecaea4665683f642a224288ca96b93ef0eb3d864ace25c1f0ba221487b1ad1fa84d6ce900988b537b8542f48f2a236737c41ff8cd278a010f44b38ad5ada46525ab2a6308b704bc5225f6d607bec11158c7f0852be50ae68c5a26469706673582212206584109e4eaab4c1e929217325ee21eff69ea8442c4c2cf6a231c213286c242364736f6c63430008180033","sourceMap":"387:17292:40:-:0;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;-1:-1:-1;;;;;387:17292:40;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4786:15;;;4782:53;;4849:20;;4845:63;;4922:19;;4918:61;;4998:18;387:17292;;-1:-1:-1;;;;;;387:17292:40;5006:10;387:17292;;-1:-1:-1;;;;;387:17292:40;;;;5068:22;387:17292;;;5100:27;387:17292;;;670:4;;;-1:-1:-1;;670:4:40;;;;;;;5137:61;387:17292;5230:12;5208:34;387:17292;;5294:32;387:17292;5336:37;387:17292;5383:30;387:17292;;;;;;;;;670:4;387:17292;;;-1:-1:-1;670:4:40;;;;;-1:-1:-1;670:4:40;4918:61;387:17292;;-1:-1:-1;;;4950:29:40;;387:17292;4950:29;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;;;4950:29;4845:63;387:17292;;-1:-1:-1;;;4878:30:40;;387:17292;4878:30;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;;;4878:30;4782:53;387:17292;;-1:-1:-1;;;4810:25:40;;387:17292;4810:25;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;;;4810:25;387:17292;-1:-1:-1;387:17292:40;;;;;;-1:-1:-1;387:17292:40;;;;;-1:-1:-1;387:17292:40","linkReferences":{}},"deployedBytecode":{"object":"0x6080604090808252600480361015610015575f80fd5b5f3560e01c918262621b1c14610cce5750816301c11d9614610ca6578163097d9c2514610c885781631c2aef8614610c6b5781631ff2d4e914610c485781632d44dc2414610c2c578163392e53cd14610c09578163427d8d1314610beb57816356df6a4714610bcd5781635c3f194a14610baf5781635ee19b9514610b915781636cb925fa14610b73578163710b70d314610b5557816375829def14610aec5781637f0d0ff514610ace57816380f21c0314610ab057816395082d2514610a5b57816398d5fdca1461096f5781639efc188614610a8c578163a3dc7f0514610a60578163a71e89a714610a5b578163bb24882e14610a28578163bbe024a914610a0a578163c417d1f0146109d1578163c6222283146109b3578163c924ebe714610995578163cb09c97814610974578163ce8c4c1d1461096f578163d0ac65cb14610940578163d5eb5c2814610565578163dc7ff4e314610547578163e4a3011614610402578163e4a60d45146101c4575063f851a44014610195575f80fd5b346101c0575f3660031901126101c057600654905160089190911c6001600160a01b03168152602090f35b5f80fd5b82346101c0576101d336610d2c565b60ff60069392935416156103f2575f8051602061117d83398151915290815c6103e25760019384835d5f8051602061115d8339815191529581875d84519687525f8051602061113d83398151915285602098848a820152a182156103025780548083116102c55792826060926102595f8051602061119d833981519152955f9897610e24565b9055610266818954610e17565b88555b610283610274610f8c565b98896003558754905490610d8e565b6002558186146102bc576102a161029982610e31565b60085461105e565b60085586519115158252888201528686820152a15d51908152f35b6102a181610299565b855163d647364f60e01b8152808301899052601660248201527565786365656473206c6f6e6720706f736974696f6e7360501b6044820152606490fd5b6005548083116103a4578261031691610e24565b60055585549066038d7ea4c67fff1982018281116103915783101561035b57505f9392826103545f8051602061119d83398151915294606094610e24565b8855610269565b855163d647364f60e01b8152908101889052600f60248201526e636c6f736520746f6f206c6172676560881b6044820152606490fd5b601182634e487b7160e01b5f525260245ffd5b855163d647364f60e01b81528083018990526017602482015276657863656564732073686f727420706f736974696f6e7360481b6044820152606490fd5b82516345f5ce8b60e11b81528590fd5b81516321c4e35760e21b81528490fd5b9050346101c057816003193601126101c05760065460243591803590600883901c6001600160a01b0316330361053a5760ff831661052d5781156104fa5766038d7ea4c6800084106104ba57506104b5907fe537ebbc925dd7137718b02a0aa1ca750fbd359132f3a67c6f632677a755ab5e94846001558160035560016104928661048d8186610d67565b610d67565b94855f556104a08787610d8e565b60025560ff1916176006555193849384610fcb565b0390a1005b606490602086519163d647364f60e01b835282015260196024820152781a5b9a5d1a585b145d585b9d1a5d1e481d1bdbc81cdb585b1b603a1b6044820152fd5b606490602086519163d647364f60e01b8352820152600c60248201526b696e697469616c507269636560a01b6044820152fd5b845162dc149f60e41b8152fd5b84516282b42960e81b8152fd5b82346101c0575f3660031901126101c0576020906009549051908152f35b9050346101c05761057536610d2c565b60ff6006541615610930575f8051602061117d83398151915290815c6109205760019283835d80156108f0575f8051602061113d833981519152865f8051602061115d83398151915283815d8151908152836020820152a16105d5610f8c565b9482156108d057845466038d7ea4c67fff1981018181116108355783101561089a578261060191610e24565b9461060d838354610e17565b82555b85815561067b610673610621610f8c565b861561088c57855b61063e61063582610fe1565b9160085461105e565b6008555f811261085c5790670de0b6b3a764000061065d920490610e17565b8060035561066b818b610e17565b841c99611011565b965f54610d8e565b60025583156108485761069083600f54610e17565b600f555b600f54610df1908181029181830414901517156108355764e8d4a5100060105461068e9081810291818304149015171561082257935f9796936107037f1734b65e5386c208c1f71e200f5d2f010c5484371c839f95b016cc96ba6dc9f29794846107909560c099049104610f74565b898112158a146107ef5761071a9150600c54610e17565b600d555b600d54600e548091116107e6575b507f727b97dabf0ab6144b1124992b57b68f417c34bc65df33a10d9982cb98584d528b61075e600954600c5490610d67565b61076b600d548092610d8e565b600a55610783600f5492601054905193849384610fcb565b0390a15460055490610e17565b61079981611079565b6107d5575b50600754600d54918a5193151584526020840152888a840152876060840152608083015260a0820152a15d82519182526020820152f35b6107dd6110cf565b6011555f61079e565b600d555f61072c565b6107f890610e31565b90600c5491828110158b1461081257501c5b600d5561071e565b905061081d91610e24565b61080a565b601185634e487b7160e01b5f525260245ffd5b601183634e487b7160e01b5f525260245ffd5b61085483601054610e17565b601055610694565b61086e670de0b6b3a764000091610e31565b0481811061087d575b5061065d565b61088691610e24565b5f610877565b61089586610e31565b610629565b875163d647364f60e01b8152602081840152600f60248201526e747261646520746f6f206c6172676560881b6044820152606490fd5b6108db828654610e17565b946108e883600554610e17565b600555610610565b855163d647364f60e01b815260208187015260096024820152687a65726f2073697a6560b81b6044820152606490fd5b84516345f5ce8b60e11b81528490fd5b83516321c4e35760e21b81528390fd5b82346101c0575f3660031901126101c0576060906007549060085490600a549181519384526020840152820152f35b610d0a565b82346101c0575f3660031901126101c0576020905166038d7ea4c680008152f35b82346101c0575f3660031901126101c0576020906005549051908152f35b82346101c0575f3660031901126101c0576020906003549051908152f35b82346101c0575f3660031901126101c0575f54610a06600154926109f3610f8c565b6109fb610dac565b915194859485610d4b565b0390f35b82346101c0575f3660031901126101c057602090600c549051908152f35b82346101c0575f3660031901126101c0579054600554606092610a4b8284610f74565b9181519384526020840152820152f35b610ce8565b82346101c0575f3660031901126101c057600c54610a06600d5492600f54601054915194859485610d4b565b82346101c057610aa4610a9e36610d2c565b90610e41565b82519182526020820152f35b82346101c0575f3660031901126101c057602090600a549051908152f35b82346101c0575f3660031901126101c0576020906010549051908152f35b9050346101c05760203660031901126101c0576001600160a01b03918135919083831683036101c057600654938460081c163303610b49575050610100600160a81b031990911660089190911b610100600160a81b031617600655005b516282b42960e81b8152fd5b82346101c0575f3660031901126101c057602090600e549051908152f35b82346101c0575f3660031901126101c057602090600f549051908152f35b82346101c0575f3660031901126101c0576020906008549051908152f35b82346101c0575f3660031901126101c057602090600b549051908152f35b82346101c0575f3660031901126101c0576020906001549051908152f35b82346101c0575f3660031901126101c0576020906007549051908152f35b82346101c0575f3660031901126101c05760209060ff6006541690519015158152f35b82346101c0575f3660031901126101c057602091549051908152f35b82346101c0575f3660031901126101c057602090610c64610dac565b9051908152f35b82346101c0575f3660031901126101c0576020905f549051908152f35b82346101c0575f3660031901126101c0576020906002549051908152f35b82346101c0575f3660031901126101c057516a0c097ce7bc90715b34b9f160241b8152602090f35b346101c0575f3660031901126101c057602090600d548152f35b346101c0575f3660031901126101c0576020604051670de0b6b3a76400008152f35b346101c0575f3660031901126101c0576020610d24610f8c565b604051908152f35b60409060031901126101c0576004359060243580151581036101c05790565b9094939260609260808301968352602083015260408201520152565b81810292918115918404141715610d7a57565b634e487b7160e01b5f52601160045260245ffd5b8115610d98570490565b634e487b7160e01b5f52601260045260245ffd5b60015466038d7ea4c680008110610e0457610ddb670de0b6b3a76400009182610dd58280610d67565b04610d67565b048015610e04575f54906001600160ff1b0382168203610d7a57610e019160011b610d8e565b90565b506a0c097ce7bc90715b34b9f160241b90565b91908201809211610d7a57565b91908203918211610d7a57565b600160ff1b8114610d7a575f0390565b9190918015610f6457610e52610f8c565b928015610f525760015466038d7ea4c67fff198101818111610d7a57831015610f395782610e7f91610e24565b915b5f54908315610ef957610ea4610eaf92610e9e86610e0197610d67565b90610d8e565b9215610eeb57610fe1565b905f8212610ed45790610ec191610e17565b610ecb8185610e17565b60011c93611011565b610ee0610ee692610e31565b90610e24565b610ec1565b610ef490610e31565b610fe1565b60405162461bcd60e51b815260206004820152601860248201527743757276654d6174683a207a65726f207175616e7469747960401b6044820152606490fd5b506a0c097ce7bc90715b34b9f160241b93508392915050565b610f5e82600154610e17565b91610e81565b509050610f6f610f8c565b905f90565b81810392915f138015828513169184121617610d7a57565b60015466038d7ea4c680008110610e0457610fad90610e9e5f549180610d67565b906a0c097ce7bc90715b34b9f160241b808311610fc75750565b9150565b6040919493926060820195825260208201520152565b600754818102915f8212600160ff1b821416610d7a578183051490151715610d7a57670de0b6b3a7640000900590565b90811561105857818082111561104e5761102a91610e24565b90670de0b6b3a764000091828102928184041490151715610d7a57610e0191610d8e565b9061102a91610e24565b50505f90565b9190915f8382019384129112908015821691151617610d7a57565b6011549081156110c85781808211156110b95761109591610e24565b606481029080820460641490151715610d7a576005916110b491610d8e565b101590565b906110c391610e24565b611095565b9050151590565b600a54801561113957600d54670de0b6b3a764000090818102918183041490151715610d7a57816111237f02bab0ca1b77589cad0cd93cd75b88c4638221dd39c7b24a006a5ee490ab368c93604093610d8e565b908160075543600b5582519182526020820152a1565b5056fea71e4ad2f8f6ae5ce3cd7c88b13dc565971270fd1b245d050c52dc7140bea36ed73124c2655c90ecaea4665683f642a224288ca96b93ef0eb3d864ace25c1f0ba221487b1ad1fa84d6ce900988b537b8542f48f2a236737c41ff8cd278a010f44b38ad5ada46525ab2a6308b704bc5225f6d607bec11158c7f0852be50ae68c5a26469706673582212206584109e4eaab4c1e929217325ee21eff69ea8442c4c2cf6a231c213286c242364736f6c63430008180033","sourceMap":"387:17292:40:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;810:41;387:17292;810:41;;;387:17292;;;;;;;;;-1:-1:-1;;387:17292:40;;;;1698:20;387:17292;;;;;;;;-1:-1:-1;;;;;387:17292:40;;;;;;;;;;;;;;;;;;:::i;:::-;;3755:12;387:17292;;;;;3754:13;3750:42;;-1:-1:-1;;;;;;;;;;;4027:54:40;;;4090:41;;4183:48;;;;;-1:-1:-1;;;;;;;;;;;17017:53:40;;;;387:17292;;;;;-1:-1:-1;;;;;;;;;;;810:41:40;;;;;;;387:17292;17093:34;13419:464;;;;387:17292;;13449:25;;;13445:76;;13535:26;;387:17292;13535:26;;-1:-1:-1;;;;;;;;;;;13535:26:40;387:17292;13535:26;;;:::i;:::-;387:17292;;13575:20;387:17292;;;13575:20;:::i;:::-;387:17292;;13419:464;14005:27;13918:21;;:::i;:::-;387:17292;;13949:31;387:17292;;;;;14005:27;;:::i;:::-;13990:42;387:17292;14100:37;;;;;14147:27;14109:13;;;:::i;:::-;14147:27;387:17292;14147:27;:::i;:::-;;387:17292;;;;;;;;;;;;;;;;;14198:44;4304:48;387:17292;;;;;14100:37;14147:27;14100:37;;;13445:76;387:17292;;-1:-1:-1;;;13483:38:40;;;;;387:17292;;;;;;;;-1:-1:-1;;;387:17292:40;;;;;;13483:38;13419:464;13637:19;387:17292;13630:26;;;13626:78;;13718:27;;;;:::i;:::-;13637:19;387:17292;;;;-1:-1:-1;;387:17292:40;;;;;;;13763:35;;;13759:79;;13852:20;387:17292;13852:20;;;;-1:-1:-1;;;;;;;;;;;13852:20:40;387:17292;13852:20;;:::i;:::-;387:17292;;13419:464;;13759:79;387:17292;;-1:-1:-1;;;13807:31:40;;;;;387:17292;;;;;;;;-1:-1:-1;;;387:17292:40;;;;;;13807:31;387:17292;;;;;;;;;;;;13626:78;387:17292;;-1:-1:-1;;;13665:39:40;;;;;387:17292;;;;;;;;-1:-1:-1;;;387:17292:40;;;;;;13665:39;4090:41;387:17292;;-1:-1:-1;;;4114:17:40;;387:17292;;4114:17;3750:42;387:17292;;-1:-1:-1;;;3776:16:40;;387:17292;;3776:16;387:17292;;;;;;;;;;;;;;3657:5;387:17292;;;;;;;;;;;-1:-1:-1;;;;;387:17292:40;3643:10;:19;3639:46;;387:17292;;;5611:45;;5670:17;;5666:58;;572:4;5738:30;;5734:84;;387:17292;6180:61;387:17292;6180:61;387:17292;;;;;5877:29;387:17292;;5978:48;:30;;;;;:::i;:::-;:48;:::i;:::-;387:17292;;;;6088:30;;;;:::i;:::-;6073:45;387:17292;-1:-1:-1;;387:17292:40;;3657:5;387:17292;;;;;;6180:61;:::i;:::-;;;;387:17292;5734:84;387:17292;;;;;11051:25;;;;5777:41;;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;5777:41;5666:58;387:17292;;;;;11051:25;;;;5696:28;;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;5696:28;5611:45;387:17292;;-1:-1:-1;;;5636:20:40;;;3639:46;387:17292;;-1:-1:-1;;;3671:14:40;;;387:17292;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1996:24;387:17292;;;;;;;;;;;;;;;;:::i;:::-;;3755:12;387:17292;;3754:13;3750:42;;-1:-1:-1;;;;;;;;;;;4027:54:40;;;4090:41;;4183:48;;;;;11033:9;;11029:47;;-1:-1:-1;;;;;;;;;;;810:41:40;-1:-1:-1;;;;;;;;;;;17017:53:40;;;387:17292;;;;;810:41;;;;387:17292;17093:34;11230:21;;:::i;:::-;11261:12;11292:326;;;;387:17292;;-1:-1:-1;;387:17292:40;;;;;;;11322:35;;;11318:112;;11450:19;;;;:::i;:::-;387:17292;11483:26;387:17292;;;11483:26;:::i;:::-;387:17292;;11292:326;387:17292;;;12603:27;12482:55;11695:21;;:::i;:::-;11803:37;;;;;;11953:27;11870:36;;;:::i;:::-;387:17292;11953:27;387:17292;11953:27;:::i;:::-;;387:17292;;12044:15;;387:17292;;;670:4;12088:50;387:17292;;12088:50;;:::i;:::-;387:17292;12365:27;387:17292;12429:24;;;;:::i;:::-;387:17292;;12482:55;;:::i;:::-;387:17292;;;12603:27;:::i;:::-;12457:1;387:17292;15524:117;;;;15550:24;387:17292;15550:24;387:17292;15550:24;:::i;:::-;;387:17292;15524:117;15808:16;387:17292;15827:4;387:17292;;;;;;;;;;;;;;;15835:4;15879:17;387:17292;15899:4;387:17292;;;;;;;;;;;;;;;;;;;;15949:24;13035:179;387:17292;;;12843:40;387:17292;;;;;;15949:24;:::i;:::-;15996:13;;;;387:17292;;;;16047:34;387:17292;;16047:14;387:17292;16047:34;:::i;:::-;16025:56;387:17292;15992:316;16352:19;387:17292;16374:13;387:17292;16352:35;;;16348:101;;15992:316;387:17292;16602:75;387:17292;16529:26;:9;387:17292;16541:14;387:17292;16529:26;;:::i;:::-;16528:50;16352:19;387:17292;16528:50;;;:::i;:::-;16511:67;387:17292;16602:75;15808:16;387:17292;;15879:17;387:17292;;;16602:75;;;;;:::i;:::-;;;;387:17292;12864:19;387:17292;12843:40;;:::i;:::-;12897:26;;;:::i;:::-;12893:119;;15992:316;387:17292;13161:10;387:17292;16352:19;387:17292;;;;;;;;;810:41;387:17292;;;;;;;;;;;;;;;;;;;;;13035:179;4304:48;387:17292;;;;;810:41;387:17292;;;;12893:119;;;:::i;:::-;12976:25;387:17292;12893:119;;;16348:101;16352:19;387:17292;16348:101;;;15992:316;16140:9;;;:::i;:::-;387:17292;16199:14;387:17292;16186:111;:27;;;;;;;;387:17292;;16186:111;16164:133;387:17292;15992:316;;16186:111;16271:26;;;;;:::i;:::-;16186:111;;387:17292;;;;;;;;;;;;;;;;;;;;;;;;15524:117;15605:25;387:17292;15605:25;387:17292;15605:25;:::i;:::-;;387:17292;15524:117;;12040:307;12197:11;670:4;12197:11;;:::i;:::-;387:17292;12245:22;;;12241:96;;12040:307;;;;12241:96;12300:22;;;:::i;:::-;12241:96;;;11803:37;11827:13;;;:::i;:::-;11803:37;;11318:112;387:17292;;-1:-1:-1;;;11384:31:40;;810:41;11384:31;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;;;11384:31;11292:326;11547:19;387:17292;;;11547:19;:::i;:::-;387:17292;11580:27;387:17292;11580:27;387:17292;11580:27;:::i;:::-;;387:17292;11292:326;;11029:47;387:17292;;-1:-1:-1;;;11051:25:40;;387:17292;11051:25;;;387:17292;;;;;;-1:-1:-1;;;387:17292:40;;;;;;11051:25;4090:41;387:17292;;-1:-1:-1;;;4114:17:40;;387:17292;;4114:17;3750:42;387:17292;;-1:-1:-1;;;3776:16:40;;387:17292;;3776:16;387:17292;;;;;;;-1:-1:-1;;387:17292:40;;;;;;10365:10;387:17292;;10392:14;387:17292;;10424:14;387:17292;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;572:4;387:17292;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1551:34;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1384:29;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;7262:12;387:17292;7292:21;;;:::i;:::-;7337:27;;:::i;:::-;387:17292;;;;;;;:::i;:::-;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2281:29;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;7606:19;387:17292;;;7643:32;387:17292;;7643:32;:::i;:::-;387:17292;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;387:17292:40;;;;10674:14;387:17292;;10713:19;387:17292;;10751:16;387:17292;10787:17;387:17292;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2070:29;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2590:32;387:17292;;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;-1:-1:-1;;;;;387:17292:40;;;;;;;;;;;;3657:5;387:17292;;;;;;3643:10;:19;3639:46;;-1:-1:-1;;;;;;;;387:17292:40;;;;;;;;-1:-1:-1;;;;;387:17292:40;;3657:5;387:17292;;3639:46;387:17292;-1:-1:-1;;;3671:14:40;;;387:17292;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2438:28;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2512:31;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1923:28;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2149:34;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1227:27;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1849:25;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;6946:12;387:17292;;;;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;;:::i;:::-;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;1302:27;387:17292;;;;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;-1:-1:-1;;;387:17292:40;;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;2358:34;387:17292;;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;;;670:4;387:17292;;;;;;;;;-1:-1:-1;;387:17292:40;;;;;6791:21;;:::i;:::-;387:17292;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;9765:408;9858:12;387:17292;572:4;9858:27;;9854:74;;9963:60;670:4;9963:27;;;;;;:::i;:::-;387:17292;9963:60;:::i;:::-;387:17292;10055:11;;10051:58;;-1:-1:-1;387:17292:40;;-1:-1:-1;;;;;387:17292:40;;;;;;10141:25;387:17292;9858:12;387:17292;10141:25;:::i;:::-;9765:408;:::o;10051:58::-;-1:-1:-1;;;;618:4:40;10082:16::o;387:17292::-;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;-1:-1:-1;;;387:17292:40;;;;;;;:::o;7724:1070::-;;;;7882:9;;7878:48;;7967:21;;:::i;:::-;7998:12;8029:236;;;;8067:12;387:17292;-1:-1:-1;;387:17292:40;;;;;;;8059:35;;;8055:103;;8178:19;;;;:::i;:::-;8029:236;;7890:1;387:17292;642:5:34;;;387:17292:40;;831:11:34;8426:64:40;836:5:34;;;8724:63:40;836:5:34;;:::i;:::-;831:11;;:::i;:::-;8452:37:40;;;;8426:64;:::i;:::-;8529:111;7890:1;8529:15;;7890:1;;8560:32;;;;:::i;:::-;8668;;;;:::i;:::-;387:17292;;8724:63;;:::i;8529:111::-;8628:11;8607:33;8628:11;;:::i;:::-;8607:33;;:::i;:::-;8529:111;;8452:37;8476:13;;;:::i;:::-;8426:64;:::i;387:17292::-;;;-1:-1:-1;;;387:17292:40;;;;;;;;;;;;-1:-1:-1;;;387:17292:40;;;;;;;8055:103;-1:-1:-1;;;;618:4:40;-1:-1:-1;618:4:40;;;-1:-1:-1;;8114:29:40:o;8029:236::-;8235:19;387:17292;8235:12;387:17292;8235:19;:::i;:::-;8029:236;;;7878:48;7901:21;;;;;:::i;:::-;7893:33;7890:1;7893:33;:::o;387:17292::-;;;;;;;-1:-1:-1;387:17292:40;;;;;;;;;;;;;:::o;9213:479::-;9294:12;387:17292;572:4;9294:27;;9290:74;;9558:44;387:17292;9574:27;-1:-1:-1;387:17292:40;9574:27;;;:::i;9558:44::-;618:4;-1:-1:-1;;;9625:17:40;;;9621:65;;9213:479;:::o;9621:65::-;9658:17;-1:-1:-1;9213:479:40:o;387:17292::-;;;;;;;;;;;;;;;;;;:::o;14391:166::-;14500:10;387:17292;;;;;-1:-1:-1;387:17292:40;;-1:-1:-1;;;387:17292:40;;;;;;;;;;;;;;;670:4;387:17292;;14391:166;:::o;3079:409:34:-;;3225:16;;3221:30;;3274:24;;;;;;;3325;;;:::i;:::-;670:4:40;;387:17292;;;;;;;;;;;;;;;3323:54:34;;;:::i;3270:212::-;3419:24;;;;:::i;3221:30::-;3243:8;;3240:1;3243:8;:::o;387:17292:40:-;;;;;;;;;;;;;;;;;;;;;;;;:::o;14640:357::-;14734:15;387:17292;14734:20;;;14730:51;;14808:32;;;;;;;14856;;;:::i;:::-;14963:3;387:17292;;;;;;14963:3;387:17292;;;;;;;14989:1;14953:32;;;;:::i;:::-;:37;;14640:357;:::o;14808:128::-;14904:32;;;;:::i;:::-;14808:128;;14730:51;14763:18;;;;14756:25;:::o;15052:277::-;15108:14;387:17292;15108:19;;15104:32;;15159:19;387:17292;670:4;387:17292;;;;;;;;;;;;;;;15158:56;;15273:49;15158:56;387:17292;15158:56;;:::i;:::-;387:17292;;15145:69;387:17292;15246:12;15224:34;387:17292;;;;;;;;;;15273:49;15052:277::o;15104:32::-;15129:7;:::o","linkReferences":{}},"methodIdentifiers":{"CURVE_PRECISION()":"a71e89a7","MAX_PRICE()":"01c11d96","MIN_QUANTITY()":"cb09c978","PRICE_PRECISION()":"95082d25","admin()":"f851a440","baseDepth()":"dc7ff4e3","baseVolatility()":"bbe024a9","calculateCurvePrice()":"ce8c4c1d","calculatePriceSensitivity()":"1ff2d4e9","closePosition(uint256,bool)":"e4a60d45","cumulativeFlow()":"5ee19b95","effectiveDepth()":"80f21c03","effectiveVolatility()":"00621b1c","executeTrade(uint256,bool)":"d5eb5c28","getCurveState()":"c417d1f0","getKyleModelState()":"d0ac65cb","getOpenInterest()":"bb24882e","getPrice()":"98d5fdca","getVolatilityInfo()":"a3dc7f05","initialize(uint256,uint256)":"e4a30116","isInitialized()":"392e53cd","kyleLambda()":"427d8d13","kyleLastUpdateBlock()":"5c3f194a","lastCurvePrice()":"c6222283","maxVolatility()":"710b70d3","poolConstant()":"1c2aef86","simulateTrade(uint256,bool)":"9efc1886","totalLongPositions()":"2d44dc24","totalShortPositions()":"c924ebe7","transferAdmin(address)":"75829def","vBTCQuantity()":"56df6a47","vUSDCReserve()":"097d9c25","volatilityLongOI()":"6cb925fa","volatilityShortOI()":"7f0d0ff5"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_baseDepth\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_baseVolatility\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_maxVolatility\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"InvalidInput\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuard\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"poolConstant\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"quantity\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"CurveInitialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"priceImpact\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"kyleLambda\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"effectiveVolatility\",\"type\":\"uint256\"}],\"name\":\"CurveTradeExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lambda\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depth\",\"type\":\"uint256\"}],\"name\":\"KyleParametersUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"closePrice\",\"type\":\"uint256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"slot\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"TransientStateStored\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newVolatility\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"longOI\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"shortOI\",\"type\":\"uint256\"}],\"name\":\"VolatilityUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CURVE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_PRICE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_QUANTITY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PRICE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseDepth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseVolatility\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"calculateCurvePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"calculatePriceSensitivity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"sensitivity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"closePosition\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cumulativeFlow\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"effectiveDepth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"effectiveVolatility\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"executeTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"priceImpact\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurveState\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"k\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"q\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sensitivity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getKyleModelState\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"lambda\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"flow\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"depth\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getOpenInterest\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"longOI\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"shortOI\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"netOI\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getVolatilityInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"baseVol\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"effectiveVol\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"longOI\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"shortOI\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"initialPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialQuantity\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"kyleLambda\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"kyleLastUpdateBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastCurvePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxVolatility\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"poolConstant\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"}],\"name\":\"simulateTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"impact\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalLongPositions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalShortPositions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"transferAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vBTCQuantity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vUSDCReserve\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"volatilityLongOI\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"volatilityShortOI\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Integrates Kyle model, volatility calculation, and TSTORE/TLOAD for transient storage\",\"kind\":\"dev\",\"methods\":{\"closePosition(uint256,bool)\":{\"params\":{\"isLong\":\"True if closing a long position\",\"size\":\"Position size to close\"},\"returns\":{\"executionPrice\":\"The closing price\"}},\"constructor\":{\"params\":{\"_baseDepth\":\"Initial market depth for Kyle model\",\"_baseVolatility\":\"Initial base volatility\",\"_maxVolatility\":\"Maximum allowed volatility\"}},\"getCurveState()\":{\"returns\":{\"k\":\"Pool constant K\",\"price\":\"Current price P = K / Q\\u00b2\",\"q\":\"Current vBTC quantity\",\"sensitivity\":\"Price sensitivity |dP/dQ|\"}},\"getOpenInterest()\":{\"returns\":{\"longOI\":\"Total long open interest\",\"netOI\":\"Net open interest (long - short)\",\"shortOI\":\"Total short open interest\"}},\"initialize(uint256,uint256)\":{\"params\":{\"initialPrice\":\"Initial price in USD (scaled by 1e18)\",\"initialQuantity\":\"Initial vBTC quantity in pool (scaled by 1e18)\"}},\"simulateTrade(uint256,bool)\":{\"params\":{\"isLong\":\"Trade direction\",\"size\":\"Trade size\"},\"returns\":{\"impact\":\"Simulated price impact\",\"price\":\"Simulated execution price\"}}},\"title\":\"VAMM Engine (Enhanced)\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"admin()\":{\"notice\":\"Admin address\"},\"baseDepth()\":{\"notice\":\"Base market depth\"},\"baseVolatility()\":{\"notice\":\"Base volatility\"},\"calculateCurvePrice()\":{\"notice\":\"Calculate price using P = K \\u00d7 Q^(-2) = K / Q\\u00b2\"},\"calculatePriceSensitivity()\":{\"notice\":\"Calculate price sensitivity |dP/dQ| = 2K / Q\\u00b3\"},\"closePosition(uint256,bool)\":{\"notice\":\"Close a position\"},\"constructor\":{\"notice\":\"Initialize with Kyle model and Volatility parameters\"},\"cumulativeFlow()\":{\"notice\":\"Cumulative order flow\"},\"effectiveDepth()\":{\"notice\":\"Effective market depth\"},\"effectiveVolatility()\":{\"notice\":\"Effective volatility\"},\"executeTrade(uint256,bool)\":{\"notice\":\"Execute trade with Kyle model and volatility updates\"},\"getCurveState()\":{\"notice\":\"Get the full curve state\"},\"getKyleModelState()\":{\"notice\":\"Get Kyle model state\"},\"getOpenInterest()\":{\"notice\":\"Get open interest breakdown\"},\"getPrice()\":{\"notice\":\"Get current curve price\"},\"getVolatilityInfo()\":{\"notice\":\"Get volatility state\"},\"initialize(uint256,uint256)\":{\"notice\":\"Initialize the VAMM curve\"},\"isInitialized()\":{\"notice\":\"Check if initialized\"},\"kyleLambda()\":{\"notice\":\"Kyle lambda parameter (price impact coefficient)\"},\"kyleLastUpdateBlock()\":{\"notice\":\"Kyle last update block\"},\"lastCurvePrice()\":{\"notice\":\"Last calculated curve price\"},\"maxVolatility()\":{\"notice\":\"Maximum volatility\"},\"poolConstant()\":{\"notice\":\"Pool constant K (determines curve steepness)\"},\"simulateTrade(uint256,bool)\":{\"notice\":\"Simulate a trade without executing\"},\"totalLongPositions()\":{\"notice\":\"Total long open interest\"},\"totalShortPositions()\":{\"notice\":\"Total short open interest\"},\"vBTCQuantity()\":{\"notice\":\"Virtual BTC quantity in pool\"},\"vUSDCReserve()\":{\"notice\":\"Virtual USDC reserve\"},\"volatilityLongOI()\":{\"notice\":\"Volatility long OI\"},\"volatilityShortOI()\":{\"notice\":\"Volatility short OI\"}},\"notice\":\"Implements the custom curve P = K \\u00d7 Q^(-2) with Kyle model and volatility integration\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/modules/VAMMEngine.sol\":\"VAMMEngine\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@chainlink/=lib/chainlink-brownie-contracts/\",\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/=lib/v4-core/lib/openzeppelin-contracts/\",\":@uniswap/v4-core/=lib/v4-core/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/\",\":ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/v4-core/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts/=lib/v4-core/lib/openzeppelin-contracts/\",\":solmate/=lib/v4-core/lib/solmate/\",\":v4-core/=lib/v4-core/src/\"],\"viaIR\":true},\"sources\":{\"src/libraries/CurveMath.sol\":{\"keccak256\":\"0x8ffa46ca75e03e012d28db172a274376d94f51689a3eedb70cfcfaf89bdc219e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0c1828ebb0480a2f6fba879b9599c9d4171ddfe3efd92395fbeb78083432d9a5\",\"dweb:/ipfs/QmfRetk1yr9uJEtLcjhS1P5X3GE8GeeoE9zamSw9PeP6cS\"]},\"src/modules/Interfaces.sol\":{\"keccak256\":\"0x509b4c67b36130adba4d238e49935ab44ea662b27cb73b6e844a078333e2b5c4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e1d184a8d60ddc71d654547c561d208192b5c002285d95d98f254fb63c42aaeb\",\"dweb:/ipfs/QmWoHvwEDEHp3ydKDTeYKkS7SQnPfeQJTXTkW2ErE8ZFzF\"]},\"src/modules/VAMMEngine.sol\":{\"keccak256\":\"0x6928094d7d13836bfc7981d7577bf08d7d2d4266b720edb37ad99b9a5e628bae\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://789bd68cafdd6f56a7263de8b6acd0ddd71dd986c6e88e6a7f3c71c31f36113c\",\"dweb:/ipfs/QmQoc35q2GVsHTcQ61qQAkz1ognTmtPNqbHyNVzX8yk91S\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"_baseDepth","type":"uint256"},{"internalType":"uint256","name":"_baseVolatility","type":"uint256"},{"internalType":"uint256","name":"_maxVolatility","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AlreadyInitialized"},{"inputs":[{"internalType":"string","name":"reason","type":"string"}],"type":"error","name":"InvalidInput"},{"inputs":[],"type":"error","name":"NotInitialized"},{"inputs":[],"type":"error","name":"ReentrancyGuard"},{"inputs":[],"type":"error","name":"Unauthorized"},{"inputs":[{"internalType":"uint256","name":"poolConstant","type":"uint256","indexed":false},{"internalType":"uint256","name":"quantity","type":"uint256","indexed":false},{"internalType":"uint256","name":"price","type":"uint256","indexed":false}],"type":"event","name":"CurveInitialized","anonymous":false},{"inputs":[{"internalType":"bool","name":"isLong","type":"bool","indexed":false},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"executionPrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"priceImpact","type":"uint256","indexed":false},{"internalType":"uint256","name":"kyleLambda","type":"uint256","indexed":false},{"internalType":"uint256","name":"effectiveVolatility","type":"uint256","indexed":false}],"type":"event","name":"CurveTradeExecuted","anonymous":false},{"inputs":[{"internalType":"uint256","name":"lambda","type":"uint256","indexed":false},{"internalType":"uint256","name":"depth","type":"uint256","indexed":false}],"type":"event","name":"KyleParametersUpdated","anonymous":false},{"inputs":[{"internalType":"bool","name":"isLong","type":"bool","indexed":false},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"closePrice","type":"uint256","indexed":false}],"type":"event","name":"PositionClosed","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"slot","type":"bytes32","indexed":false},{"internalType":"uint256","name":"value","type":"uint256","indexed":false}],"type":"event","name":"TransientStateStored","anonymous":false},{"inputs":[{"internalType":"uint256","name":"newVolatility","type":"uint256","indexed":false},{"internalType":"uint256","name":"longOI","type":"uint256","indexed":false},{"internalType":"uint256","name":"shortOI","type":"uint256","indexed":false}],"type":"event","name":"VolatilityUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"CURVE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_PRICE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_QUANTITY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"baseDepth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"baseVolatility","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"calculateCurvePrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"calculatePriceSensitivity","outputs":[{"internalType":"uint256","name":"sensitivity","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"closePosition","outputs":[{"internalType":"uint256","name":"executionPrice","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"cumulativeFlow","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"effectiveDepth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"effectiveVolatility","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"executeTrade","outputs":[{"internalType":"uint256","name":"executionPrice","type":"uint256"},{"internalType":"uint256","name":"priceImpact","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurveState","outputs":[{"internalType":"uint256","name":"k","type":"uint256"},{"internalType":"uint256","name":"q","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"sensitivity","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getKyleModelState","outputs":[{"internalType":"uint256","name":"lambda","type":"uint256"},{"internalType":"int256","name":"flow","type":"int256"},{"internalType":"uint256","name":"depth","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getOpenInterest","outputs":[{"internalType":"uint256","name":"longOI","type":"uint256"},{"internalType":"uint256","name":"shortOI","type":"uint256"},{"internalType":"int256","name":"netOI","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getVolatilityInfo","outputs":[{"internalType":"uint256","name":"baseVol","type":"uint256"},{"internalType":"uint256","name":"effectiveVol","type":"uint256"},{"internalType":"uint256","name":"longOI","type":"uint256"},{"internalType":"uint256","name":"shortOI","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"initialPrice","type":"uint256"},{"internalType":"uint256","name":"initialQuantity","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"kyleLambda","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"kyleLastUpdateBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lastCurvePrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"maxVolatility","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"poolConstant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"}],"stateMutability":"view","type":"function","name":"simulateTrade","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"impact","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalLongPositions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalShortPositions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferAdmin"},{"inputs":[],"stateMutability":"view","type":"function","name":"vBTCQuantity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"vUSDCReserve","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"volatilityLongOI","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"volatilityShortOI","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"closePosition(uint256,bool)":{"params":{"isLong":"True if closing a long position","size":"Position size to close"},"returns":{"executionPrice":"The closing price"}},"constructor":{"params":{"_baseDepth":"Initial market depth for Kyle model","_baseVolatility":"Initial base volatility","_maxVolatility":"Maximum allowed volatility"}},"getCurveState()":{"returns":{"k":"Pool constant K","price":"Current price P = K / Q","q":"Current vBTC quantity","sensitivity":"Price sensitivity |dP/dQ|"}},"getOpenInterest()":{"returns":{"longOI":"Total long open interest","netOI":"Net open interest (long - short)","shortOI":"Total short open interest"}},"initialize(uint256,uint256)":{"params":{"initialPrice":"Initial price in USD (scaled by 1e18)","initialQuantity":"Initial vBTC quantity in pool (scaled by 1e18)"}},"simulateTrade(uint256,bool)":{"params":{"isLong":"Trade direction","size":"Trade size"},"returns":{"impact":"Simulated price impact","price":"Simulated execution price"}}},"version":1},"userdoc":{"kind":"user","methods":{"admin()":{"notice":"Admin address"},"baseDepth()":{"notice":"Base market depth"},"baseVolatility()":{"notice":"Base volatility"},"calculateCurvePrice()":{"notice":"Calculate price using P = K  Q^(-2) = K / Q"},"calculatePriceSensitivity()":{"notice":"Calculate price sensitivity |dP/dQ| = 2K / Q"},"closePosition(uint256,bool)":{"notice":"Close a position"},"constructor":{"notice":"Initialize with Kyle model and Volatility parameters"},"cumulativeFlow()":{"notice":"Cumulative order flow"},"effectiveDepth()":{"notice":"Effective market depth"},"effectiveVolatility()":{"notice":"Effective volatility"},"executeTrade(uint256,bool)":{"notice":"Execute trade with Kyle model and volatility updates"},"getCurveState()":{"notice":"Get the full curve state"},"getKyleModelState()":{"notice":"Get Kyle model state"},"getOpenInterest()":{"notice":"Get open interest breakdown"},"getPrice()":{"notice":"Get current curve price"},"getVolatilityInfo()":{"notice":"Get volatility state"},"initialize(uint256,uint256)":{"notice":"Initialize the VAMM curve"},"isInitialized()":{"notice":"Check if initialized"},"kyleLambda()":{"notice":"Kyle lambda parameter (price impact coefficient)"},"kyleLastUpdateBlock()":{"notice":"Kyle last update block"},"lastCurvePrice()":{"notice":"Last calculated curve price"},"maxVolatility()":{"notice":"Maximum volatility"},"poolConstant()":{"notice":"Pool constant K (determines curve steepness)"},"simulateTrade(uint256,bool)":{"notice":"Simulate a trade without executing"},"totalLongPositions()":{"notice":"Total long open interest"},"totalShortPositions()":{"notice":"Total short open interest"},"vBTCQuantity()":{"notice":"Virtual BTC quantity in pool"},"vUSDCReserve()":{"notice":"Virtual USDC reserve"},"volatilityLongOI()":{"notice":"Volatility long OI"},"volatilityShortOI()":{"notice":"Volatility short OI"}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink-brownie-contracts/","@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@openzeppelin/=lib/v4-core/lib/openzeppelin-contracts/","@uniswap/v4-core/=lib/v4-core/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/","ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/v4-core/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts/=lib/v4-core/lib/openzeppelin-contracts/","solmate/=lib/v4-core/lib/solmate/","v4-core/=lib/v4-core/src/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/modules/VAMMEngine.sol":"VAMMEngine"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"src/libraries/CurveMath.sol":{"keccak256":"0x8ffa46ca75e03e012d28db172a274376d94f51689a3eedb70cfcfaf89bdc219e","urls":["bzz-raw://0c1828ebb0480a2f6fba879b9599c9d4171ddfe3efd92395fbeb78083432d9a5","dweb:/ipfs/QmfRetk1yr9uJEtLcjhS1P5X3GE8GeeoE9zamSw9PeP6cS"],"license":"MIT"},"src/modules/Interfaces.sol":{"keccak256":"0x509b4c67b36130adba4d238e49935ab44ea662b27cb73b6e844a078333e2b5c4","urls":["bzz-raw://e1d184a8d60ddc71d654547c561d208192b5c002285d95d98f254fb63c42aaeb","dweb:/ipfs/QmWoHvwEDEHp3ydKDTeYKkS7SQnPfeQJTXTkW2ErE8ZFzF"],"license":"MIT"},"src/modules/VAMMEngine.sol":{"keccak256":"0x6928094d7d13836bfc7981d7577bf08d7d2d4266b720edb37ad99b9a5e628bae","urls":["bzz-raw://789bd68cafdd6f56a7263de8b6acd0ddd71dd986c6e88e6a7f3c71c31f36113c","dweb:/ipfs/QmQoc35q2GVsHTcQ61qQAkz1ognTmtPNqbHyNVzX8yk91S"],"license":"MIT"}},"version":1},"id":40}